{"ast":null,"code":"var _jsxFileName = \"/home/merval/projet perso/bible/dailyverse/src/components/BooksTab.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { ArrowLeft, BookOpen, Highlighter, Bookmark, X } from 'lucide-react';\nimport { doc, setDoc, arrayUnion, arrayRemove } from \"firebase/firestore\";\nimport { auth, db } from '../firebase';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BooksTab = ({\n  theme,\n  selectedBook,\n  setSelectedBook,\n  selectedChapter,\n  setSelectedChapter,\n  chapterContent,\n  bibleBooks,\n  showAllOldTestament,\n  setShowAllOldTestament,\n  showAllNewTestament,\n  setShowAllNewTestament\n}) => {\n  _s();\n  const [selectedLine, setSelectedLine] = useState(null);\n  const [highlightedLines, setHighlightedLines] = useState({});\n  const [savedLines, setSavedLines] = useState({});\n  const [linePosition, setLinePosition] = useState({\n    top: 0,\n    left: 0\n  });\n  const [userId, setUserId] = useState(null);\n  const [loading, setLoading] = useState(false);\n\n  // Load user data on auth state change\n  useEffect(() => {\n    const unsubscribe = auth.onAuthStateChanged(async user => {\n      if (user) {\n        setUserId(user.uid);\n        await loadUserData(user.uid);\n      }\n    });\n    return () => unsubscribe();\n  }, []);\n  const loadUserData = useCallback(async uid => {\n    try {\n      const userDocRef = doc(db, \"users\", uid);\n      const docSnap = await getDoc(userDocRef);\n      if (docSnap.exists()) {\n        const data = docSnap.data();\n        // Initialize highlights\n        if (data.highlights) {\n          const highlightsMap = {};\n          data.highlights.forEach(hl => {\n            highlightsMap[hl.lineNumber] = true;\n          });\n          setHighlightedLines(highlightsMap);\n        }\n        // Initialize bookmarks\n        if (data.bookmarks) {\n          const bookmarksMap = {};\n          data.bookmarks.forEach(bm => {\n            bookmarksMap[bm.lineNumber] = true;\n          });\n          setSavedLines(bookmarksMap);\n        }\n      }\n    } catch (error) {\n      console.error(\"Error loading user data:\", error);\n    }\n  }, []);\n  const handleLineClick = (lineNumber, event) => {\n    const rect = event.currentTarget.getBoundingClientRect();\n    setLinePosition({\n      top: rect.top - 50,\n      left: rect.left\n    });\n    setSelectedLine(selectedLine === lineNumber ? null : lineNumber);\n  };\n  const handleHighlight = async () => {\n    var _chapterContent$text$;\n    if (!selectedLine || !userId || !selectedBook || !selectedChapter || !chapterContent) return;\n    setLoading(true);\n    const isHighlighted = !highlightedLines[selectedLine];\n    const userDocRef = doc(db, \"users\", userId);\n    const highlightData = {\n      book: selectedBook,\n      chapter: selectedChapter,\n      lineNumber: selectedLine,\n      text: ((_chapterContent$text$ = chapterContent.text.split('\\n')[selectedLine - 1]) === null || _chapterContent$text$ === void 0 ? void 0 : _chapterContent$text$.trim()) || '',\n      reference: `${selectedBook} ${selectedChapter}:${selectedLine}`,\n      timestamp: new Date()\n    };\n    try {\n      if (isHighlighted) {\n        await setDoc(userDocRef, {\n          highlights: arrayUnion(highlightData)\n        }, {\n          merge: true\n        });\n      } else {\n        await setDoc(userDocRef, {\n          highlights: arrayRemove(highlightData)\n        }, {\n          merge: true\n        });\n      }\n      setHighlightedLines(prev => ({\n        ...prev,\n        [selectedLine]: isHighlighted\n      }));\n    } catch (error) {\n      console.error(\"Error updating highlight:\", error);\n    } finally {\n      setSelectedLine(null);\n      setLoading(false);\n    }\n  };\n  const handleSave = async () => {\n    var _chapterContent$text$2, _chapterContent$text$3;\n    if (!selectedLine || !userId || !selectedBook || !selectedChapter || !chapterContent) return;\n    setLoading(true);\n    const isSaved = !savedLines[selectedLine];\n    const userDocRef = doc(db, \"users\", userId);\n    const bookmarkData = {\n      id: `${selectedBook}-${selectedChapter}-${selectedLine}`,\n      book: selectedBook,\n      chapter: selectedChapter,\n      lineNumber: selectedLine,\n      text: ((_chapterContent$text$2 = chapterContent.text.split('\\n')[selectedLine - 1]) === null || _chapterContent$text$2 === void 0 ? void 0 : _chapterContent$text$2.trim()) || '',\n      preview: (((_chapterContent$text$3 = chapterContent.text.split('\\n')[selectedLine - 1]) === null || _chapterContent$text$3 === void 0 ? void 0 : _chapterContent$text$3.trim()) || '').substring(0, 50) + '...',\n      reference: `${selectedBook} ${selectedChapter}:${selectedLine}`,\n      timestamp: new Date()\n    };\n    try {\n      if (isSaved) {\n        await setDoc(userDocRef, {\n          bookmarks: arrayUnion(bookmarkData)\n        }, {\n          merge: true\n        });\n      } else {\n        await setDoc(userDocRef, {\n          bookmarks: arrayRemove(bookmarkData)\n        }, {\n          merge: true\n        });\n      }\n      setSavedLines(prev => ({\n        ...prev,\n        [selectedLine]: isSaved\n      }));\n    } catch (error) {\n      console.error(\"Error updating bookmark:\", error);\n    } finally {\n      setSelectedLine(null);\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `${theme.card} rounded shadow p-4 position-relative`,\n    children: [chapterContent && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bible-text bg-white p-3 rounded position-relative\",\n      children: chapterContent.text.split('\\n').map((line, index) => line.trim() && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `d-flex mb-2 position-relative\n                  ${selectedLine === index + 1 ? 'bg-primary bg-opacity-10' : ''}\n                  ${highlightedLines[index + 1] ? 'bg-warning bg-opacity-10' : ''}\n                  ${savedLines[index + 1] ? 'border-start border-primary border-3 ps-2' : ''}\n                `,\n        onClick: e => handleLineClick(index + 1, e),\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: `text-muted me-3 text-end ${selectedLine === index + 1 ? 'fw-bold text-primary' : ''}`,\n          style: {\n            width: '30px'\n          },\n          children: index + 1\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"flex-grow-1\",\n          children: line\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 17\n        }, this), savedLines[index + 1] && /*#__PURE__*/_jsxDEV(Bookmark, {\n          size: 16,\n          className: \"position-absolute end-0 top-50 translate-middle-y text-primary\",\n          fill: \"currentColor\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 19\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 15\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 9\n    }, this), selectedLine && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"position-absolute bg-white p-2 rounded shadow d-flex align-items-center z-3\",\n      style: {\n        top: `${linePosition.top}px`,\n        left: `${linePosition.left}px`,\n        transform: 'translateX(-50%)'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-sm btn-outline-secondary me-2\",\n        onClick: () => setSelectedLine(null),\n        disabled: loading,\n        children: /*#__PURE__*/_jsxDEV(X, {\n          size: 16\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `btn btn-sm me-2 ${highlightedLines[selectedLine] ? 'btn-warning' : 'btn-outline-warning'}`,\n        onClick: handleHighlight,\n        disabled: loading,\n        children: /*#__PURE__*/_jsxDEV(Highlighter, {\n          size: 16\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `btn btn-sm ${savedLines[selectedLine] ? 'btn-primary' : 'btn-outline-primary'}`,\n        onClick: handleSave,\n        disabled: loading,\n        children: /*#__PURE__*/_jsxDEV(Bookmark, {\n          size: 16\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 146,\n    columnNumber: 5\n  }, this);\n};\n_s(BooksTab, \"qaZlKDrQfWwuUpcAv0NM2S4Z5Ug=\");\n_c = BooksTab;\nexport default BooksTab;\nvar _c;\n$RefreshReg$(_c, \"BooksTab\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","ArrowLeft","BookOpen","Highlighter","Bookmark","X","doc","setDoc","arrayUnion","arrayRemove","auth","db","jsxDEV","_jsxDEV","BooksTab","theme","selectedBook","setSelectedBook","selectedChapter","setSelectedChapter","chapterContent","bibleBooks","showAllOldTestament","setShowAllOldTestament","showAllNewTestament","setShowAllNewTestament","_s","selectedLine","setSelectedLine","highlightedLines","setHighlightedLines","savedLines","setSavedLines","linePosition","setLinePosition","top","left","userId","setUserId","loading","setLoading","unsubscribe","onAuthStateChanged","user","uid","loadUserData","userDocRef","docSnap","getDoc","exists","data","highlights","highlightsMap","forEach","hl","lineNumber","bookmarks","bookmarksMap","bm","error","console","handleLineClick","event","rect","currentTarget","getBoundingClientRect","handleHighlight","_chapterContent$text$","isHighlighted","highlightData","book","chapter","text","split","trim","reference","timestamp","Date","merge","prev","handleSave","_chapterContent$text$2","_chapterContent$text$3","isSaved","bookmarkData","id","preview","substring","className","card","children","map","line","index","onClick","e","style","width","fileName","_jsxFileName","columnNumber","size","fill","transform","disabled","_c","$RefreshReg$"],"sources":["/home/merval/projet perso/bible/dailyverse/src/components/BooksTab.jsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport { ArrowLeft, BookOpen, Highlighter, Bookmark, X } from 'lucide-react';\nimport { doc, setDoc, arrayUnion, arrayRemove } from \"firebase/firestore\";\nimport { auth, db } from '../firebase';\n\nconst BooksTab = ({ \n  theme, \n  selectedBook, \n  setSelectedBook, \n  selectedChapter, \n  setSelectedChapter, \n  chapterContent, \n  bibleBooks, \n  showAllOldTestament, \n  setShowAllOldTestament, \n  showAllNewTestament, \n  setShowAllNewTestament \n}) => {\n  const [selectedLine, setSelectedLine] = useState(null);\n  const [highlightedLines, setHighlightedLines] = useState({});\n  const [savedLines, setSavedLines] = useState({});\n  const [linePosition, setLinePosition] = useState({ top: 0, left: 0 });\n  const [userId, setUserId] = useState(null);\n  const [loading, setLoading] = useState(false);\n\n  // Load user data on auth state change\n  useEffect(() => {\n    const unsubscribe = auth.onAuthStateChanged(async (user) => {\n      if (user) {\n        setUserId(user.uid);\n        await loadUserData(user.uid);\n      }\n    });\n    return () => unsubscribe();\n  }, []);\n\n  const loadUserData = useCallback(async (uid) => {\n    try {\n      const userDocRef = doc(db, \"users\", uid);\n      const docSnap = await getDoc(userDocRef);\n      \n      if (docSnap.exists()) {\n        const data = docSnap.data();\n        // Initialize highlights\n        if (data.highlights) {\n          const highlightsMap = {};\n          data.highlights.forEach(hl => {\n            highlightsMap[hl.lineNumber] = true;\n          });\n          setHighlightedLines(highlightsMap);\n        }\n        // Initialize bookmarks\n        if (data.bookmarks) {\n          const bookmarksMap = {};\n          data.bookmarks.forEach(bm => {\n            bookmarksMap[bm.lineNumber] = true;\n          });\n          setSavedLines(bookmarksMap);\n        }\n      }\n    } catch (error) {\n      console.error(\"Error loading user data:\", error);\n    }\n  }, []);\n\n  const handleLineClick = (lineNumber, event) => {\n    const rect = event.currentTarget.getBoundingClientRect();\n    setLinePosition({\n      top: rect.top - 50,\n      left: rect.left\n    });\n    setSelectedLine(selectedLine === lineNumber ? null : lineNumber);\n  };\n\n  const handleHighlight = async () => {\n    if (!selectedLine || !userId || !selectedBook || !selectedChapter || !chapterContent) return;\n    \n    setLoading(true);\n    const isHighlighted = !highlightedLines[selectedLine];\n    const userDocRef = doc(db, \"users\", userId);\n    const highlightData = {\n      book: selectedBook,\n      chapter: selectedChapter,\n      lineNumber: selectedLine,\n      text: chapterContent.text.split('\\n')[selectedLine - 1]?.trim() || '',\n      reference: `${selectedBook} ${selectedChapter}:${selectedLine}`,\n      timestamp: new Date()\n    };\n\n    try {\n      if (isHighlighted) {\n        await setDoc(userDocRef, { highlights: arrayUnion(highlightData) }, { merge: true });\n      } else {\n        await setDoc(userDocRef, { highlights: arrayRemove(highlightData) }, { merge: true });\n      }\n      \n      setHighlightedLines(prev => ({\n        ...prev,\n        [selectedLine]: isHighlighted\n      }));\n    } catch (error) {\n      console.error(\"Error updating highlight:\", error);\n    } finally {\n      setSelectedLine(null);\n      setLoading(false);\n    }\n  };\n\n  const handleSave = async () => {\n    if (!selectedLine || !userId || !selectedBook || !selectedChapter || !chapterContent) return;\n    \n    setLoading(true);\n    const isSaved = !savedLines[selectedLine];\n    const userDocRef = doc(db, \"users\", userId);\n    const bookmarkData = {\n      id: `${selectedBook}-${selectedChapter}-${selectedLine}`,\n      book: selectedBook,\n      chapter: selectedChapter,\n      lineNumber: selectedLine,\n      text: chapterContent.text.split('\\n')[selectedLine - 1]?.trim() || '',\n      preview: (chapterContent.text.split('\\n')[selectedLine - 1]?.trim() || '').substring(0, 50) + '...',\n      reference: `${selectedBook} ${selectedChapter}:${selectedLine}`,\n      timestamp: new Date()\n    };\n\n    try {\n      if (isSaved) {\n        await setDoc(userDocRef, { bookmarks: arrayUnion(bookmarkData) }, { merge: true });\n      } else {\n        await setDoc(userDocRef, { bookmarks: arrayRemove(bookmarkData) }, { merge: true });\n      }\n      \n      setSavedLines(prev => ({\n        ...prev,\n        [selectedLine]: isSaved\n      }));\n    } catch (error) {\n      console.error(\"Error updating bookmark:\", error);\n    } finally {\n      setSelectedLine(null);\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className={`${theme.card} rounded shadow p-4 position-relative`}>\n      {/* Bible book/chapter selection UI remains the same */}\n      {/* ... (keep your existing JSX for book/chapter selection) ... */}\n\n      {/* Chapter content display */}\n      {chapterContent && (\n        <div className=\"bible-text bg-white p-3 rounded position-relative\">\n          {chapterContent.text.split('\\n').map((line, index) => (\n            line.trim() && (\n              <div \n                key={index} \n                className={`d-flex mb-2 position-relative\n                  ${selectedLine === index + 1 ? 'bg-primary bg-opacity-10' : ''}\n                  ${highlightedLines[index + 1] ? 'bg-warning bg-opacity-10' : ''}\n                  ${savedLines[index + 1] ? 'border-start border-primary border-3 ps-2' : ''}\n                `}\n                onClick={(e) => handleLineClick(index + 1, e)}\n              >\n                <span className={`text-muted me-3 text-end ${selectedLine === index + 1 ? 'fw-bold text-primary' : ''}`} style={{ width: '30px' }}>\n                  {index + 1}\n                </span>\n                <span className=\"flex-grow-1\">\n                  {line}\n                </span>\n                {savedLines[index + 1] && (\n                  <Bookmark \n                    size={16} \n                    className=\"position-absolute end-0 top-50 translate-middle-y text-primary\" \n                    fill=\"currentColor\"\n                  />\n                )}\n              </div>\n            )\n          ))}\n        </div>\n      )}\n\n      {/* Selection toolbar */}\n      {selectedLine && (\n        <div \n          className=\"position-absolute bg-white p-2 rounded shadow d-flex align-items-center z-3\"\n          style={{\n            top: `${linePosition.top}px`,\n            left: `${linePosition.left}px`,\n            transform: 'translateX(-50%)'\n          }}\n        >\n          <button \n            className=\"btn btn-sm btn-outline-secondary me-2\"\n            onClick={() => setSelectedLine(null)}\n            disabled={loading}\n          >\n            <X size={16} />\n          </button>\n          <button \n            className={`btn btn-sm me-2 ${highlightedLines[selectedLine] ? 'btn-warning' : 'btn-outline-warning'}`}\n            onClick={handleHighlight}\n            disabled={loading}\n          >\n            <Highlighter size={16} />\n          </button>\n          <button \n            className={`btn btn-sm ${savedLines[selectedLine] ? 'btn-primary' : 'btn-outline-primary'}`}\n            onClick={handleSave}\n            disabled={loading}\n          >\n            <Bookmark size={16} />\n          </button>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default BooksTab;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}